!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(t,e)}):"object"==typeof exports?n(t,require("jquery")):n(t,t.jQuery||t.Zepto)}(this,function(e,r){"use strict";var s,c,l="remodal",o=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||l,d=r.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+o}).join(" "),u=r.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+o}).join(" "),a=r.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),f={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},m="confirmation",p="cancellation",h=void 0!==(e=document.createElement("div").style).animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName,g=/iPad|iPhone|iPod/.test(navigator.platform);function v(e){if(h&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;for(var t,n=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",i=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",o=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1",n=n.split(", "),i=i.split(", "),o=o.split(", "),a=0,r=n.length,s=Number.NEGATIVE_INFINITY;a<r;a++)s<(t=parseFloat(n[a])*parseInt(o[a],10)+parseFloat(i[a]))&&(s=t);return s}function y(){if(r(document).height()<=r(window).height())return 0;var e,t=document.createElement("div"),n=document.createElement("div");return t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t),e=t.offsetWidth,t.style.overflow="scroll",n.style.width="100%",t.appendChild(n),n=n.offsetWidth,t.parentNode.removeChild(t),e-n}function i(){var e,t,n,i,o;g||(e=r("html"),t=C("is-locked"),e.hasClass(t)&&(i=r(document.body),o=r(".fixed-el"),n=parseInt(i.css("padding-right"),10)-y(),i.css("padding-right",n+"px"),o.css("padding-right",n+"px"),e.removeClass(t)))}function b(e,t,n,i){var o=C("is",t),a=[C("is",f.CLOSING),C("is",f.OPENING),C("is",f.CLOSED),C("is",f.OPENED)].join(" ");e.$bg.removeClass(a).addClass(o),e.$overlay.removeClass(a).addClass(o),e.$wrapper.removeClass(a).addClass(o),e.$modal.removeClass(a).addClass(o),e.state=t,n||e.$modal.trigger({type:t,reason:i},[{reason:i}])}function w(e,t,n){function i(e){e.target===this&&a++}function o(e){e.target===this&&0==--a&&(r.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){n[t].off(d+" "+u)}),t())}var a=0;r.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){n[t].on(d,i).on(u,o)}),e(),0===v(n.$bg)&&0===v(n.$overlay)&&0===v(n.$wrapper)&&0===v(n.$modal)&&(r.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){n[t].off(d+" "+u)}),t())}function k(n){n.state!==f.CLOSED&&(r.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){n[t].off(d+" "+u)}),n.$bg.removeClass(n.settings.modifier),n.$overlay.removeClass(n.settings.modifier).hide(),n.$wrapper.hide(),i(),b(n,f.CLOSED,!0))}function C(){for(var e=o,t=0;t<arguments.length;++t)e+="-"+arguments[t];return e}function t(){var e,t,n=location.hash.replace("#","");if(n){try{t=r("[data-"+l+'-id="'+n+'"]')}catch(e){}t&&t.length&&(e=r[l].lookup[t.data(l)])&&e.settings.hashTracking&&e.open()}else s&&s.state===f.OPENED&&s.settings.hashTracking&&s.close()}function E(e,t){var n=r(document.body),i=this;i.settings=r.extend({},a,t),i.index=r[l].lookup.push(i)-1,i.state=f.CLOSED,i.$overlay=r("."+C("overlay")),null!==i.settings.appendTo&&i.settings.appendTo.length&&(n=r(i.settings.appendTo)),i.$overlay.length||(i.$overlay=r("<div>").addClass(C("overlay")+" "+C("is",f.CLOSED)).hide(),n.append(i.$overlay)),i.$bg=r("."+C("bg")).addClass(C("is",f.CLOSED)),i.$modal=e.addClass(o+" "+C("is-initialized")+" "+i.settings.modifier+" "+C("is",f.CLOSED)).attr("tabindex","-1"),i.$wrapper=r("<div>").addClass(C("wrapper")+" "+i.settings.modifier+" "+C("is",f.CLOSED)).hide().append(i.$modal),n.append(i.$wrapper),i.$wrapper.on("click."+o,"[data-"+l+'-action="close"]',function(e){e.preventDefault(),i.close()}),i.$wrapper.on("click."+o,"[data-"+l+'-action="cancel"]',function(e){e.preventDefault(),i.$modal.trigger(p),i.settings.closeOnCancel&&i.close(p)}),i.$wrapper.on("click."+o,"[data-"+l+'-action="confirm"]',function(e){e.preventDefault(),i.$modal.trigger(m),i.settings.closeOnConfirm&&i.close(m)}),i.$wrapper.on("click."+o,function(e){r(e.target).hasClass(C("wrapper"))&&i.settings.closeOnOutsideClick&&i.close()})}E.prototype.open=function(){var e,t,n,i,o,a=this;a.state!==f.OPENING&&a.state!==f.CLOSING&&((o=a.$modal.attr("data-"+l+"-id"))&&a.settings.hashTracking&&(c=r(window).scrollTop(),location.hash=o),s&&s!==a&&k(s),s=a,g||(e=r("html"),t=C("is-locked"),e.hasClass(t)||(n=r(document.body),i=r(".fixed-el"),o=parseInt(n.css("padding-right"),10)+y(),n.css("padding-right",o+"px"),i.css("padding-right",o+"px"),e.addClass(t))),a.$bg.addClass(a.settings.modifier),a.$overlay.addClass(a.settings.modifier).show(),a.$wrapper.show().scrollTop(0),a.$modal.focus(),w(function(){b(a,f.OPENING)},function(){b(a,f.OPENED)},a))},E.prototype.close=function(e){var t=this;t.state!==f.OPENING&&t.state!==f.CLOSING&&t.state!==f.CLOSED&&(t.settings.hashTracking&&t.$modal.attr("data-"+l+"-id")===location.hash.substr(1)&&(location.hash="",r(window).scrollTop(c)),w(function(){b(t,f.CLOSING,!1,e)},function(){t.$bg.removeClass(t.settings.modifier),t.$overlay.removeClass(t.settings.modifier).hide(),t.$wrapper.hide(),i(),b(t,f.CLOSED,!1,e)},t))},E.prototype.getState=function(){return this.state},E.prototype.destroy=function(){var e=r[l].lookup;k(this),this.$wrapper.remove(),delete e[this.index],0===r.grep(e,function(e){return!!e}).length&&(this.$overlay.remove(),this.$bg.removeClass(C("is",f.CLOSING)+" "+C("is",f.OPENING)+" "+C("is",f.CLOSED)+" "+C("is",f.OPENED)))},r[l]={lookup:[]},r.fn[l]=function(n){var i,o;return this.each(function(e,t){null==(o=r(t)).data(l)?(i=new E(o,n),o.data(l,i.index),i.settings.hashTracking&&o.attr("data-"+l+"-id")===location.hash.substr(1)&&i.open()):i=r[l].lookup[o.data(l)]}),i},r(document).ready(function(){r(document).on("click","[data-"+l+"-target]",function(e){e.preventDefault();e=e.currentTarget.getAttribute("data-"+l+"-target"),e=r("[data-"+l+'-id="'+e+'"]');r[l].lookup[e.data(l)].open()}),r(document).find("."+o).each(function(e,t){var n=r(t),t=n.data(l+"-options");t?("string"==typeof t||t instanceof String)&&(t=function(e){for(var t,n,i={},o=0,a=(t=(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",")).split(",")).length;o<a;o++)t[o]=t[o].split(":"),("string"==typeof(n="string"==typeof(n=t[o][1])||n instanceof String?"true"===n||"false"!==n&&n:n)||n instanceof String)&&(n=isNaN(n)?n:+n),i[t[o][0]]=n;return i}(t)):t={},n[l](t)}),r(document).on("keydown."+o,function(e){s&&s.settings.closeOnEscape&&s.state===f.OPENED&&27===e.keyCode&&s.close()}),r(window).on("hashchange."+o,t)})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(E){var i,e=navigator.userAgent,$=/iphone/i.test(e),S=/chrome/i.test(e),O=/android/i.test(e);E.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},E.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,g){var n,v,y,b,w,k,C;if(!t&&0<this.length){var e=E(this[0]).data(E.mask.dataName);return e?e():void 0}return g=E.extend({autoclear:E.mask.autoclear,placeholder:E.mask.placeholder,completed:null},g),n=E.mask.definitions,v=[],y=k=t.length,b=null,E.each(t.split(""),function(e,t){"?"==t?(k--,y=e):n[t]?(v.push(new RegExp(n[t])),null===b&&(b=v.length-1),e<y&&(w=v.length-1)):v.push(null)}),this.trigger("unmask").each(function(){function r(){if(g.completed){for(var e=b;e<=w;e++)if(v[e]&&m[e]===s(e))return;g.completed.call(f)}}function s(e){return g.placeholder.charAt(e<g.placeholder.length?e:0)}function c(e){for(;++e<k&&!v[e];);return e}function l(e,t){var n,i;if(!(e<0)){for(n=e,i=c(t);n<k;n++)if(v[n]){if(!(i<k&&v[n].test(m[i])))break;m[n]=m[i],m[i]=s(i),i=c(i)}u(),f.caret(Math.max(b,e))}}function o(){a(),f.val()!=h&&f.change()}function d(e,t){for(var n=e;n<t&&n<k;n++)v[n]&&(m[n]=s(n))}function u(){f.val(m.join(""))}function a(e){for(var t,n=f.val(),i=-1,o=0,a=0;o<k;o++)if(v[o]){for(m[o]=s(o);a++<n.length;)if(t=n.charAt(a-1),v[o].test(t)){m[o]=t,i=o;break}if(a>n.length){d(o+1,k);break}}else m[o]===n.charAt(a)&&a++,o<y&&(i=o);return e?u():i+1<y?g.autoclear||m.join("")===p?(f.val()&&f.val(""),d(0,k)):u():(u(),f.val(f.val().substring(0,i+1))),y?o:b}var f=E(this),m=E.map(t.split(""),function(e,t){return"?"!=e?n[e]?s(t):e:void 0}),p=m.join(""),h=f.val();f.data(E.mask.dataName,function(){return E.map(m,function(e,t){return v[t]&&e!=s(t)?e:null}).join("")}),f.one("unmask",function(){f.off(".mask").removeData(E.mask.dataName)}).on("focus.mask",function(){var e;f.prop("readonly")||(clearTimeout(i),h=f.val(),e=a(),i=setTimeout(function(){f.get(0)===document.activeElement&&(u(),e==t.replace("?","").length?f.caret(0,e):f.caret(e))},10))}).on("blur.mask",o).on("keydown.mask",function(e){var t,n,i;f.prop("readonly")||(i=e.which||e.keyCode,C=f.val(),8===i||46===i||$&&127===i?(t=(n=f.caret()).begin,(n=n.end)-t==0&&(t=46!==i?function(e){for(;0<=--e&&!v[e];);return e}(t):n=c(t-1),n=46===i?c(n):n),d(t,n),l(t,n-1),e.preventDefault()):13===i?o.call(this,e):27===i&&(f.val(h),f.caret(0,a()),e.preventDefault()))}).on("keypress.mask",function(e){var t,n,i,o,a;f.prop("readonly")||(o=e.which||e.keyCode,a=f.caret(),e.ctrlKey||e.altKey||e.metaKey||o<32||!o||13===o||(a.end-a.begin!=0&&(d(a.begin,a.end),l(a.begin,a.end-1)),(t=c(a.begin-1))<k&&(n=String.fromCharCode(o),v[t].test(n))&&(function(e){for(var t,n,i=e,o=s(e);i<k;i++)if(v[i]){if(t=c(i),n=m[i],m[i]=o,!(t<k&&v[t].test(n)))break;o=n}}(t),m[t]=n,u(),i=c(t),O?setTimeout(function(){E.proxy(E.fn.caret,f,i)()},0):f.caret(i),a.begin<=w&&r()),e.preventDefault()))}).on("input.mask paste.mask",function(){f.prop("readonly")||setTimeout(function(){var e=a(!0);f.caret(e),r()},0)}),S&&O&&f.off("input.mask").on("input.mask",function(){var e=f.val(),t=f.caret();if(C&&C.length&&C.length>e.length){for(a(!0);0<t.begin&&!v[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<b&&!v[t.begin];)t.begin++;f.caret(t.begin,t.begin)}else{for(a(!0);t.begin<k&&!v[t.begin];)t.begin++;f.caret(t.begin,t.begin)}r()}),a()})}})}),function(){"use strict";var a={};function n(e){for(var t=e.classList,n={},i=0;i<t.length;i++)n[t[i]]=1;e.a=n,e.c=t}function d(e,t){var n="string"==typeof t;if((e=g(e)).length)for(var i=0;i<e.length;i++)(n?r:o)(e[i],t);else(n?r:o)(e,t)}function o(e,t){for(var n=0;n<t.length;n++)r(e,t[n])}function r(e,t){e.a||n(e),e.a[t]||(e.a[t]=1,e.c.add(t))}function u(e,t){var n="string"==typeof t;if((e=g(e)).length)for(var i=0;i<e.length;i++)(n?c:s)(e[i],t);else(n?c:s)(e,t)}function s(e,t){for(var n=0;n<t.length;n++)c(e,t[n])}function c(e,t){e.a||n(e),e.a[t]&&(e.a[t]=0,e.c.remove(t))}function m(e,t,n,i){e=g(e);var o="string"!=typeof t&&Object.keys(t);if(e.length)for(var a=0;a<e.length;a++)(o?l:f)(e[a],t,o||n,i);else(o?l:f)(e,t,o||n,i)}function l(e,t,n,i){for(var o=0;o<n.length;o++){var a=n[o];f(e,a,t[a],i)}}function f(e,t,n,i){var o=e.f;o||(e.f=o={}),o[t]!==n&&(o[t]=n,(e.g||(e.g=e.style)).setProperty(a[t]||(a[t]=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),n,i?"important":null))}var i=0;function p(e,t,n){m(e,"transition","none"),m(e,t,n),i=i||e.clientTop&&0,m(e,"transition","")}function h(e,t){if(t=t||"",(e=g(e)).length)for(var n=0;n<e.length;n++){var i=e[n],o=t;i.b!==o&&(i.b=o,i.textContent=o)}else e.b!==t&&(e.b=t,e.textContent=t)}function g(e){return"string"==typeof e?document.querySelectorAll(e):e}function v(e,t,n,i){b("add",e,t,n,i)}function y(e,t,n,i){b("remove",e,t,n,i)}function b(e,t,n,i,o){t[e+"EventListener"](n||"click",i,void 0===o||o)}function w(e,t){return(e=e||window.event)&&(e.stopImmediatePropagation(),t||e.preventDefault(),t||(e.returnValue=!1)),!1}var k,C,E,$,S,O,N,x,L,D,A,T,z,t,I,F,P,j,G,q,R,M,B,W,_,Y,H,X,Z,K,Q,V,U,J,ee,te,ne,ie,oe,ae,re,se,ce,le,de="theme fullscreen autofit zoom-in zoom-out page title description player progress".split(" ");function ue(e){return(X||document).getElementsByClassName(e)[0]}function fe(e,t){if(j=e.length){var n=(_=_||(X||document).getElementsByClassName("pane")).length,i=G.title,o=G.description;ce=Array(j);for(var a=0;a<j;a++){var r=e[a],s=r.dataset;n<=a&&(m(l=_[0].cloneNode(!1),"left",100*a+"%"),_[0].parentNode.appendChild(l));var c,l=void 0,d=ce,u=a,f=s&&(s.href||s.src)||r.src||r.href;(c=s&&s.title||r.title)||(c=(l=(r||document).getElementsByTagName("img")).length&&l[0].alt),d[u]={src:f,title:c||i||"",description:s&&s.description||r.description||o||""}}P=t||1,we(!0),Ye()}}function me(e,t,n,i){(i||e[n])&&(G[n]=t&&t[n]||i)}function pe(e,t){if(G={},t&&he(t),he(e),me(e,t,"description"),me(e,t,"title"),me(e,t,"prefetch",!0),me(e,t,"preloader",!0),M=e.onchange,q=void 0!==(q=G.infinite)&&"false"!==q,R="false"!==G.progress,B=+G.player||7e3,!(e=G.zoom)&&""!==e||(G["zoom-in"]=G["zoom-out"]=e,delete G.zoom),(e=G.control)||""===e){for(e="string"==typeof e?e.split(","):e,t=0;t<de.length;t++)G[de[t]]="false";for(t=0;t<e.length;t++){var n=e[t].trim();"zoom"===n?G["zoom-in"]=G["zoom-out"]="true":G[n]="true"}}for(e=0;e<de.length;e++)m(ue(t=de[e]),"display","false"===G[t]?"none":"");(F=G.theme)?_e():F="white"}function he(e){for(var t=G,n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];t[o]=""+e[o]}}v(document,"",function(e){var t=He.call(e.target,".spotlight");if(t){var n=He.call(t,".spotlight-group"),i=(n||document).getElementsByClassName("spotlight");for(pe(t.dataset,n&&n.dataset),n=0;n<i.length;n++)if(i[n]===t){fe(i,n+1);break}return Ge(),w(e)}}),v(document,"DOMContentLoaded",ge,{once:!0});var e=!1;function ge(){e||((X=document.createElement("div")).id="spotlight",X.innerHTML='<div class=preloader></div><div class=scene><div class=pane></div></div><div class=header><div class=page></div><div class="icon fullscreen"></div><div class="icon autofit"></div><div class="icon zoom-out"></div><div class="icon zoom-in"></div><div class="icon theme"></div><div class="icon player"></div><div class="icon close"></div></div><div class=progress></div><div class="arrow arrow-left"></div><div class="arrow arrow-right"></div><div class=footer><div class=title></div><div class=description></div></div>',m(X,"transition","none"),document.body.appendChild(X),H=ue("scene"),Z=ue("footer"),K=ue("title"),Q=ue("description"),V=ue("arrow-left"),U=ue("arrow-right"),J=ue("fullscreen"),ee=ue("page"),te=ue("player"),ne=ue("progress"),ie=ue("preloader"),se=document.documentElement||document.body,document.cancelFullScreen||(document.cancelFullScreen=document.exitFullscreen||document.webkitCancelFullScreen||document.webkitExitFullscreen||document.mozCancelFullScreen||function(){}),se.requestFullScreen||(se.requestFullScreen=se.webkitRequestFullScreen||se.msRequestFullScreen||se.mozRequestFullScreen||m(J,"display","none")||function(){}),le=[[window,"keydown",Ce],[window,"wheel",Ee],[window,"hashchange",$e],[window,"resize",ve],[ie,"mousedown",xe],[ie,"mouseleave",Le],[ie,"mouseup",Le],[ie,"mousemove",De],[ie,"touchstart",xe,{passive:!1}],[ie,"touchcancel",Le],[ie,"touchend",Le],[ie,"touchmove",De,{passive:!0}],[J,"",ze],[V,"",Re],[U,"",Me],[te,"",Se],[ue("autofit"),"",Ie],[ue("zoom-in"),"",Fe],[ue("zoom-out"),"",je],[ue("close"),"",qe],[ue("theme"),"",_e]],e=!0)}function ve(){S=X.clientWidth,O=X.clientHeight,Y&&(N=Y.width,x=Y.height,ye())}function ye(){m(Y,"transform","translate(-50%, -50%) scale("+L+")")}function be(e,t){m(W,"transform",e||t?"translate("+e+"px, "+t+"px)":"")}function we(e,t){(e?p:m)(H,"transform","translateX("+(100*-(P-1)+(t||0))+"%)")}function ke(e){for(var t=0;t<le.length;t++){var n=le[t];(e?v:y)(n[0],n[1],n[2],n[3])}}function Ce(e){if(W)switch(e.keyCode){case 8:Ie();break;case 27:qe();break;case 32:"false"!==G.player&&Se();break;case 37:Re();break;case 39:Me();break;case 38:case 107:case 187:Fe();break;case 40:case 109:case 189:je()}}function Ee(e){W&&(.5*((e=e.deltaY)<0?1:e?-1:0)<0?je:Fe)()}function $e(){W&&"#spotlight"===location.hash&&qe(!0)}function Se(e){return("boolean"==typeof e?e:!oe)?oe||(oe=setInterval(Me,B),d(te,"on"),R&&We()):oe&&(oe=clearInterval(oe),u(te,"on"),R&&p(ne,"transform","")),oe}function Oe(){re?clearTimeout(re):d(X,"menu");var e=G.autohide;re="false"!==e?setTimeout(function(){u(X,"menu"),re=null},+e||3e3):1}function Ne(e){return(re="boolean"==typeof e?e?re:0:re)?(re=clearTimeout(re),u(X,"menu")):Oe(),w(e)}function xe(e){A=!(D=!0);var t=Ae(e);return T=N*L<=S,E=t.x,$=t.y,w(e,!0)}function Le(e){return D&&!A?(D=!1,Ne(e)):(T&&A&&(we(!0,k/S*100),k<-O/10&&Me()||O/10<k&&Re()||we(),k=0,T=!1,be()),D=!1,w(e))}function De(e){var t,n;return D?(ae=ae||requestAnimationFrame(Te),t=Ae(e),n=(N*L-S)/2,A=!0,k-=E-(E=t.x),T?z=!0:n<k?k=n:0<S-k-N*L+n?k=S-N*L+n:z=!0,O<x*L&&((n=(x*L-O)/2)<(C-=$-($=t.y))?C=n:0<O-C-x*L+n?C=O-x*L+n:z=!0)):Oe(),w(e,!0)}function Ae(e){var t=e.touches;return{x:(t=t&&t[0])?t.clientX:e.pageX,y:t?t.clientY:e.pageY}}function Te(e){z?(e&&(ae=requestAnimationFrame(Te)),be(k,C)):ae=null,z=!1}function ze(e){("boolean"==typeof e?e:document.isFullScreen||document.webkitIsFullScreen||document.mozFullScreen)?(document.cancelFullScreen(),u(J,"on")):(se.requestFullScreen(),d(J,"on"))}function Ie(e){"boolean"==typeof e&&(t=!e),m(Y,{maxHeight:(t=1===L&&!t)?"none":"",maxWidth:t?"none":"",transform:""}),N=Y.width,x=Y.height,L=1,C=k=0,z=!0,be(),Oe()}function Fe(e){var t=L/.65;t<=5&&Pe(L=t),e||Oe()}function Pe(e){L=e||1,ye()}function je(e){var t=.65*L;1<=t&&(Pe(L=t),C=k=0,z=!0,be()),e||Oe()}function Ge(){location.hash="spotlight",location.hash="show",m(X,"transition",""),d(se,"hide-scrollbars"),d(X,"show"),ke(!0),ve(),Oe()}function qe(e){ke(!1),history.go(!0===e?-1:-2),u(se,"hide-scrollbars"),u(X,"show"),oe&&Se(!1),Y.parentNode.removeChild(Y),W=_=Y=ce=G=M=null}function Re(){return 1<P?Be(P-1):oe||q?Be(j):void 0}function Me(){return P<j?Be(P+1):oe||q?Be(1):void 0}function Be(e){if(!(oe&&D||e===P)){oe||Oe(),oe&&R&&We();var t=P<e;return P=e,Ye(t),!0}}function We(){p(ne,{transitionDuration:"",transform:""}),m(ne,{transitionDuration:B+"ms",transform:"translateX(0)"})}function _e(e){"boolean"==typeof e?I=e:(I=!I,Oe()),(I?d:u)(X,F)}function Ye(e){C=k=0,L=1;var t,n=!0,i=!0,o=!0;if((a=G.animation)||""===a){n=i=o=!1;for(var a="string"==typeof a?a.split(","):a,r=0;r<a.length;r++){var s=a[r].trim();if("scale"===s)n=!0;else if("fade"===s)i=!0;else if("slide"===s)o=!0;else if("flip"===s)var c=!0;else if("false"!==s){var n=i=o=c=!1,l=s;break}}}m(H,"transition",o?"":"none"),we(),W&&be(),Y&&(m(Y,{opacity:i?0:1,transform:""}),t=Y,setTimeout(function(){t&&Y!==t&&t.parentNode&&t.parentNode.removeChild(t)},800)),o=function(){var e=P;if(W=_[e-1],Y=W.firstElementChild,P=e,Y)return!0;var t="false"!==G.preloader;return(Y=new Image).onload=function(){t&&u(ie,"show"),ce&&(N=this.width,x=this.height,m(this,{visibility:"visible",opacity:1,transform:""}),"false"!==G.prefetch&&e<j&&((new Image).src=ce[e].src))},Y.onerror=function(){W.removeChild(this)},W.appendChild(Y),Y.src=ce[e-1].src,t&&d(ie,"show"),!t}(),l&&d(Y,l),p(Y,{opacity:i?0:1,transform:"translate(-50%, -50%)"+(n?" scale(0.8)":"")+(c&&void 0!==e?" rotateY("+(e?"":"-")+"90deg)":""),maxHeight:"",maxWidth:""}),o&&m(Y,{visibility:"visible",opacity:1,transform:""}),l&&u(Y,l),be(),m(V,"visibility",q||1!==P?"":"hidden"),m(U,"visibility",q||P!==j?"":"hidden"),(n=(n=(e=ce[P-1]).title||e.description)&&"false"!==n)&&(h(K,e.title||""),h(Q,e.description||"")),m(Z,"visibility",n?"visible":"hidden"),h(ee,P+" / "+j),M&&M(P)}var He=Element.prototype.closest||function(e){var t=this;for(e=e.substring(1);t&&1===t.nodeType;){if(t.classList.contains(e))return t;t=t.parentElement||t.parentNode}};window.Spotlight={init:ge,theme:_e,fullscreen:ze,autofit:Ie,next:Me,prev:Re,goto:Be,close:qe,zoom:Pe,menu:Ne,show:function(e,t){setTimeout(function(){e?(t?pe(t):t={},fe(e,t.index)):G={},Ge()})},play:Se}}.call(this);